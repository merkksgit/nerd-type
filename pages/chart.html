<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-R80KP2H5BL"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-R80KP2H5BL");
    </script>
    <title>NerdType | Chart</title>
    <link
      rel="icon"
      type="image/png"
      href="../images/logo-no-keyboard-blue-bg-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="../images/logo-no-keyboard-blue-bg-192x192.png"
      sizes="192x192"
    />
    <link href="../css/style.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script
      src="https://kit.fontawesome.com/fc21fca839.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="d-flex flex-column h-100">
    <div class="container-fluid flex-grow-1 d-flex flex-column">
      <header class="d-flex justify-content-start align-items-center">
        <a href="../index.html">
          <img
            id="header-logo"
            src="../images/logo-text-no-keyboard.png"
            alt="NerdType Logo"
          />
        </a>
        <a href="../index.html">
          <img
            id="header-logo-no-text"
            src="../images/mobile-header-logo-v2.png"
            alt="NerdType Logo"
          />
        </a>
      </header>
      <nav class="navbar navbar-dark navbar-expand-lg">
        <div class="container-fluid">
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainmenu"
            aria-controls="mainmenu"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-center"
            id="mainmenu"
          >
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="../index.html">Frontpage</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./game.html">Game</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="current" href="./chart.html">Chart</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./achievements.html">Achievements</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./info.html">INFO</a>
              </li>
            </ul>
          </div>
          <!-- New scoreboard button -->
          <button
            id="viewScoreboardChartBtn"
            class="floating-scoreboard-chart-btn"
          >
            <i class="fa-solid fa-trophy"></i>
            <span>Scoreboard</span>
          </button>
        </div>
      </nav>
      <!-- Charts Section -->
      <div class="row justify-content-center pt-2 pt-md-5">
        <article class="col-md-12 p-3 flex-column d-flex align-items-center">
          <div id="graphContainer" class="text-center w-100">
            <div class="row justify-content-center">
              <!-- Classic Mode Chart -->
              <div class="col-12 col-lg-10 col-xl-8 mb-4">
                <h2 class="text-center mb-4">
                  <i class="fa-solid fa-chart-line"></i> Classic Mode
                </h2>
                <div class="chart-container">
                  <canvas id="scoreChart"></canvas>
                </div>
              </div>
            </div>
            <div class="row justify-content-center">
              <!-- Zen Mode Chart -->
              <div class="col-12 col-lg-10 col-xl-8 mb-5">
                <h2 class="text-center mb-4">
                  <i class="fa-solid fa-chart-line"></i> Zen Mode
                </h2>
                <div class="chart-container">
                  <canvas id="zenChart"></canvas>
                </div>
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-12 col-lg-8 col-xl-6 mb-2">
                <h4 style="text-align: left">NerdType Dashboard</h4>
                <hr
                  class="mb-3"
                  style="
                    border-color: #ff9e64;
                    opacity: 1;
                    border-width: 1px;
                    margin-top: -10px;
                  "
                />
                <p style="text-align: left">
                  For more detailed analysis of your typing performance, check
                  out the
                  <a
                    href="https://nerdtype-dashboard.streamlit.app/"
                    target="_blank"
                    style="color: #7aa2f7; text-decoration: none"
                    >NerdType Dashboard</a
                  >. This interactive tool provides comprehensive visualizations
                  and statistics beyond what's available in the basic charts.
                  Download your game data below and upload it to the dashboard
                  to unlock personalized insights about your typing patterns and
                  progress over time.
                </p>
              </div>
            </div>
          </div>
        </article>
      </div>
      <div class="row justify-content-center pb-5">
        <div id="buttons">
          <button id="downloadDataBtn">
            <i class="fa-solid fa-file-arrow-down"></i>
            <span>Download Game Data</span>
          </button>
        </div>
      </div>
      <div class="row justify-content-center">
        <!-- Scoreboard Modal -->
        <div
          class="modal fade"
          id="scoreboardModal"
          tabindex="-1"
          aria-labelledby="scoreboardModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-lg scoreboard-modal-dialog">
            <div class="modal-content">
              <div class="modal-header border-bottom-0 text-center">
                <h5
                  class="modal-title w-100 justify-content-center"
                  id="scoreboardModalLabel"
                >
                  [SCOREBOARD]
                </h5>
              </div>
              <div class="modal-body border-top-0 border-bottom-0">
                <ul id="previousResults"></ul>
              </div>
              <div
                class="modal-footer border-top-0 d-flex flex-row justify-content-center"
              >
                <button
                  id="clearResultsBtn"
                  class="btn mb-3"
                  style="min-width: 200px"
                >
                  Clear Scoreboard
                </button>
                <button
                  id="scoreboardCloseBtn"
                  type="button"
                  class="btn mb-3"
                  data-bs-dismiss="modal"
                  style="min-width: 200px"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Clear results Alert Modal -->
    <div
      class="modal fade"
      id="customAlertModal"
      tabindex="-1"
      aria-labelledby="customAlertModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header border-bottom-0 text-center">
            <h5
              class="modal-title w-100"
              id="customAlertModalLabel"
              style="text-align: center; margin: 0"
            ></h5>
          </div>
          <div class="modal-body border-top-0 border-bottom-0"></div>
          <div
            class="modal-footer border-top-0"
            style="
              background-color: #24283b;
              display: flex;
              justify-content: center;
              padding: 1rem;
            "
          >
            <button
              id="clrResults"
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
              style="margin: 0"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <footer class="footer mt-auto p-3">
      <div class="container-fluid">
        <div class="row">
          <div
            class="col-12 d-flex flex-column flex-md-row justify-content-center align-items-center gap-2 gap-md-4"
          >
            <span id="versionInfo" class="footer-text"></span>
            <span class="d-flex align-items-center footer-text">
              <i class="bi bi-c-circle me-2"></i>
              <script>
                document.write(new Date().getFullYear());
              </script>
              ERKKA LEPPÃ„NEN
            </span>
            <div class="d-flex gap-4 mt-2 mt-md-0">
              <a
                href="https://github.com/merkksgit/nerd-type"
                target="_blank"
                class="text-decoration-none social-link"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-template='<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>'
                title="GitHub"
              >
                <i class="bi bi-github"></i>
              </a>
              <a
                href="https://www.instagram.com/nerdtypegame/"
                target="_blank"
                class="text-decoration-none social-link"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-template='<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>'
                title="Instagram"
              >
                <i class="bi bi-instagram"></i>
              </a>
              <a
                href="./contact.html"
                class="text-decoration-none social-link"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-template='<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>'
                title="Contact"
              >
                <i class="bi bi-envelope"></i>
              </a>
              <a
                href="./terms.html"
                class="text-decoration-none social-link"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-template='<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>'
                title="Terms of Use"
              >
                <i class="bi bi-file-text"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script type="module">
      import achievementSystem from "../js/achievements.js";

      // When DOM is loaded, render achievements
      document.addEventListener("DOMContentLoaded", function () {
        // Render achievements
        achievementSystem.renderAchievementsToContainer(
          "custom-achievements-container",
        );
      });
    </script>
    <script src="../js/keyboard-nav.js"></script>
    <script src="../js/chart.js"></script>
    <script src="../js/functions-chart.js" type="module"></script>
    <script src="../js/version.js"></script>
    <script src="../js/download-game-data.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
